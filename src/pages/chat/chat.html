<ion-header>
    <ion-navbar color="secondary">
        <ion-title>Chat</ion-title>
    </ion-navbar>
</ion-header>
<ion-content>
    <ion-list>
        <ion-item-sliding #item *ngFor="let chat of chatList| async">
            <button ion-item *ngIf="user.uid == chat.user1ID" (click)="navigate(chat)">
                <ion-avatar item-left>
                    <img src="assets/boy.png">
                </ion-avatar>
                <h2 *ngIf="chat.user1Love == true && chat.user2Love == true">{{chat.user2DisplayName}}</h2>
                <h2 *ngIf="chat.user1Love == false && chat.user2Love == false">{{chat.user2ID}}</h2>
                <p>{{chat.lastMessage}}</p>
                <p item-right>{{chat.updateDt| amTimeAgo}}</p>
                <ion-badge item-right color="danger" *ngIf="chat.user1Unread > 0">{{chat.user1Unread}}</ion-badge>
                
            </button>
            <button ion-item *ngIf="user.uid == chat.user2ID" (click)="navigate(chat)">
                <ion-avatar item-left>
                    <img src="assets/boy.png">
                </ion-avatar>
                <h2 *ngIf="chat.user1Love == true && chat.user2Love == true">{{chat.user1DisplayName}}</h2>
                <h2 *ngIf="chat.user1Love == false && chat.user2Love == false">{{chat.user1ID}}</h2>
                <p>{{chat.lastMessage}}</p>
                <p item-right>{{chat.updateDt| amTimeAgo}}</p>
                <ion-badge item-right color="danger" *ngIf="chat.user2Unread > 0">{{chat.user2Unread}}</ion-badge>
            </button>
            <ion-item-options side="left">
                <button ion-button color="primary" (click)='love(chat)'><ion-icon name="heart"></ion-icon>Love</button>
            </ion-item-options>
            <ion-item-options side="right">
                <button ion-button color="danger" (click)='remove(chat)'><ion-icon name="close-circle"></ion-icon>Break</button>
            </ion-item-options>
        </ion-item-sliding>
    </ion-list>
    
</ion-content>
